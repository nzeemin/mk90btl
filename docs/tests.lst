; Elektronika MK-90 expansion ROM disassembly, BASIC V2.0
; The disassembly made by Piotr Piatek
; Converted to octals by nzeemin

; LCD test
040000:	CALL	160136
040004:	CLR	002724
040010:	CLR	@#006120
040014:	CLR	@#006506
040020:	CALL	@#121760
040024:	MOV	#040444,R1
040030:	BIS	#041,@#006534
040036:	CALL	160372		; display the string pointed to by r1
040042:	BIC	#001,@#006534
040050:	MOV	#040472,R1
040054:	CALL	160372		; display the string pointed to by r1
040060:	CALL	@#137472	; wait for a key
040064:	CALL	@#120034
040070:	CMP	#067,R2		; key '7' pressed?
040074:	BNE	040102
040076:	JMP	040424		; exit the LCD test
040102:	CMP	#070,R2		; key '8' pressed?
040106:	BNE	040126
040110:	INC	002724
040114:	MOV	#001,R5
040120:	CALL	043302
040124:	BR	040146
040126:	MOV	R2,R5
040130:	SUB	#060,R5
040134:	CMP	#006,R5
040140:	BLT	040000
040142:	TST	R5
040144:	BLE	040000
040146:	DEC	R5
040150:	ADD	R5,R5
040152:	MOV	@#006402,R3
040156:	CALL	@040430(R5)
040162:	TST	002724
040166:	BEQ	040230
040170:	CALL	045766
040174:	CALL	045766
040200:	ADD	#002,R5
040204:	CMP	#014,R5
040210:	BNE	040152
040212:	DEC	002730
040216:	BEQ	040424
040220:	CALL	040272		; clear screen
040224:	CLR	R5
040226:	BR	040150
040230:	CALL	@#137472	; wait for a key
040234:	CMP	#067,R2		; key '7' pressed?
040240:	BEQ	040424		; exit the LCD test
040242:	CALL	040272		; clear screen
040246:	BR	040010

; test pattern 1 (all pixels dark)
040250:	MOV	#177777,R2
040254:	MOV	@#006402,R3
040260:	MOV	#000740,R4
040264:	MOV	R2,(R3)+
040266:	SOB	R4,040264
040270:	RETURN

; test pattern 2 (blank), can be also used to clear the screen
040272:	CLR	R2
040274:	BR	040254

; test pattern 3
040276:	MOV	#177777,R2
040302:	MOV	R5,-(SP)
040304:	MOV	#010,R5
040310:	MOV	@#006402,R3
040314:	MOV	R3,R4
040316:	MOV	#004,R1
040322:	MOV	#017,R0
040326:	MOV	R2,(R4)+
040330:	COM	R2
040332:	SOB	R0,040326
040334:	ADD	#322,R4
040340:	SOB	R1,040322
040342:	ADD	#036,R3
040346:	SOB	R5,040314
040350:	MOV	(SP)+,R5
040352:	RETURN

; test pattern 4
040354:	CLR	R2
040356:	CALL	040302
040362:	RETURN

; test pattern 5
040364:	MOV	#125252,R2
040370:	CALL	040254
040374:	RETURN

; test pattern 6
040376:	MOV	#177777,R2
040402:	MOV	#040,R1
040406:	MOV	#017,R4
040412:	MOV	R2,(R3)+
040414:	SOB	R4,040412
040416:	COM	R2
040420:	SOB	R1,040406
040422:	RETURN
040424:	JMP	@#160124	; self-test menu

; addresses of the LCD test procedures
040430:	.WORD	040250, 040272, 040276, 040354, 040364, 040376

4124:                0E 20 20 20  20 74 45 53  54 20 76 6B  t@~@.    tEST vk
040460:	69 20 20 20  20 20 20 20  20 00 31 3A  5C 4B 52 41  i        .1:\KRA
040500:	4E 20 5A 41  56 56 45 4E  0D 0A 32 3A  5C 4B 52 41  N ZAVVEN..2:\KRA
040520:	4E 20 50 4F  47 41 5B 45  4E 0D 0A 33  3A 5B 41 48  N POGA[EN..3:[AH
040540:	4D 41 54 4E  59 4A 20 52  49 53 55 4E  4F 4B 31 34  MATNYJ RISUNOK14
040560:	3A 5B 41 48  4D 41 54 4E  59 4A 20 52  49 53 55 4E  :[AHMATNYJ RISUN
040600:	4F 4B 32 35  3A 50 4F 4C  4F 53 59 31  2C 36 3A 50  OK25:POLOSY1,6:P
040620:	4F 4C 4F 53  59 32 20 37  3A 57 59 48  4F 44 2C 38  OLOSY2 7:WYHOD,8
040640:	3A 5A 41 43  49 4B 2D 4E  49 45 20 0E  7A 41 44 41  :ZACIK-NIE .zADA
040660:	4A 54 45 20  4E 4F 4D 45  52 3F 0F 00  F7 09 9E 9E  JTE NOMER?..w...

; keyboard test
040674:	CALL	160136
040700:	CLR	@#006120
040704:	CLR	@#006506
040710:	MOV	#042354,R1
040714:	BIS	#041,@#006534
040722:	CALL	160372		; display the string pointed to by r1
040726:	BIC	#001,@#006534
040734:	MOV	#042402,R1
040740:	CALL	160372		; display the string pointed to by r1
040744:	CALL	@#137472	; wait for a key
040750:	BIS	#040,@#006534
040756:	CMP	#015,R2
040762:	BNE	040744
040764:	CALL	160136
040770:	MOV	#010,@#006120
040776:	CLR	@#006506
041002:	MOV	#042607,R1
041006:	CALL	160372		; display the string pointed to by r1
041012:	CLR	002700
041016:	CLR	R3
041020:	CMP	R3,#010
041024:	BGT	041034
041026:	MOV	#070,R4
041032:	BR	041040
041034:	MOV	#060,R4
041040:	CALL	041046
041044:	BR	041154
041046:	MOV	#002,006126
041054:	MOV	#010,R5
041060:	CMP	#070,R3
041064:	BNE	041116
041066:	CMP	#110,R4
041072:	BNE	041102
041074:	MOV	#042666,R0
041100:	BR	041122
041102:	CMP	#120,R4
041106:	BNE	041116
041110:	MOV	#042676,R0
041114:	BR	041122
041116:	MOV	#042656,R0
041122:	MOV	R3,R2
041124:	MOV	R2,@#006120
041130:	MOV	R4,@#006506
041134:	MOVB	(R0)+,R1
041136:	SWAB	R1
041140:	CALL	@#121436
041144:	INC	R2
041146:	DEC	R5
041150:	BNE	041124
041152:	RETURN
041154:	ADD	#010,R4
041160:	CMP	#160,R4
041164:	BNE	041040
041166:	ADD	#010,R3
041172:	CMP	#100,R3
041176:	BNE	041020
041200:	BIC	#040,@#006534
041206:	CLR	006606
041212:	CLR	002714
041216:	TSTB	006606
041222:	BEQ	041216
041224:	BIS	#040,@#006534
041232:	CMPB	#373,006606
041240:	BNE	041256
041242:	CMPB	#373,002712
041250:	BNE	041256
041252:	JMP	@#160124	; self-test menu
041256:	TST	002714
041262:	BEQ	041334
041264:	CALL	042302
041270:	CALL	041046
041274:	CMP	#070,R3
041300:	BNE	041334
041302:	CMP	#110,R4
041306:	BNE	041316
041310:	ADD	#010,R4
041314:	BR	041330
041316:	CMP	#120,R4
041322:	BNE	041334
041324:	SUB	#010,R4
041330:	CALL	041046
041334:	MOV	006606,R0
041340:	BIC	#177743,R0
041344:	ASL	R0
041346:	MOV	R0,R3
041350:	MOV	006606,R0
041354:	BIC	#177437,R0
041360:	ASR	R0
041362:	ASR	R0
041364:	ADD	#060,R0
041370:	MOV	R0,R4
041372:	CLR	R5
041374:	MOV	R4,-(SP)
041376:	CALL	042302
041402:	CMP	#001,R5
041406:	BEQ	041452
041410:	CMP	R3,#070
041414:	BNE	041452
041416:	CMP	#110,R4
041422:	BNE	041434
041424:	ADD	#010,R4
041430:	INC	R5
041432:	BR	041376
041434:	CMP	#120,R4
041440:	BNE	041452
041442:	SUB	#010,R4
041446:	INC	R5
041450:	BR	041376
041452:	MOV	(SP)+,R4
041454:	MOV	R3,R2
041456:	DEC	R2
041460:	MOV	#002,006126
041466:	MOV	#042644,R0
041472:	MOV	#011,R5
041476:	MOVB	(R0)+,R1
041500:	SWAB	R1
041502:	MOV	R2,006120
041506:	MOV	R4,006506
041512:	CALL	@#121436
041516:	INC	R2
041520:	SOB	R5,041476
041522:	BIS	#001,006534
041530:	MOV	R3,006120
041534:	MOV	R4,006506
041540:	INC	006506
041544:	CMP	R3,#060
041550:	BLO	042070
041552:	MOV	006110,002714
041560:	MOV	#171710,006110
041566:	MOV	006606,R2
041572:	BIC	#177400,R2
041576:	ASH	#177773,R2
041602:	CMP	#060,R3
041606:	BEQ	041614
041610:	ADD	#010,R2
041614:	ADD	#100,R2
041620:	MOV	#001,006126
041626:	MOVB	006606,002712
041634:	CMPB	#033,006606
041642:	BEQ	041654
041644:	CMPB	#337,006606
041652:	BNE	041672
041654:	CLR	006606
041660:	CLR	007156
041664:	CLR	007160
041670:	BR	042002
041672:	CMPB	#377,006606
041700:	BNE	041706
041702:	INC	002700
041706:	BIT	#001,002700
041714:	BNE	041740
041716:	CMPB	#173,006606
041724:	BEQ	041762
041726:	CMPB	#233,006606
041734:	BEQ	041762
041736:	BR	042002
041740:	CMPB	#137,006606
041746:	BEQ	041770
041750:	CMPB	#277,006606
041756:	BEQ	041776
041760:	BR	042002
041762:	ADD	#015,R2
041766:	BR	042002
041770:	ADD	#010,R2
041774:	BR	042002
041776:	ADD	#006,R2
042002:	CALL	@#120156
042006:	MOV	002714,006110
042014:	BIC	#040,@#006534
042022:	CALL	@#137520
042026:	BIS	#040,@#006534
042034:	CMPB	#016,R2
042040:	BNE	042052
042042:	MOV	#175566,006110
042050:	BR	042140
042052:	CMPB	#017,R2
042056:	BNE	042140
042060:	MOV	#175134,006110
042066:	BR	042140
042070:	MOV	006606,002712
042076:	BIC	#040,@#006534
042104:	CALL	@#137520
042110:	BIS	#040,@#006534
042116:	MOV	#001,006126
042124:	CLR	@#006536
042130:	CALL	@#120034
042134:	INC	@#006536
042140:	BIC	#001,006534
042146:	MOV	R2,R0
042150:	MOV	#060,006120
042156:	CALL	042214
042162:	MOV	002712,R0
042166:	MOV	#030,006120
042174:	CALL	042214
042200:	INC	002714
042204:	CLR	006606
042210:	JMP	041216
042214:	MOV	#006,R5
042220:	BIC	#177400,R0
042224:	MOV	R0,R2
042226:	CALL	142070
042232:	MOV	R4,-(SP)
042234:	MOV	#003,R4
042240:	MOV	R2,R1
042242:	CALL	100032
042246:	MOV	(SP)+,R4
042250:	MOV	#001,006126
042256:	MOV	R5,006506
042262:	MOVB	(R0)+,R2
042264:	BEQ	042300
042266:	CALL	@#120034
042272:	ADD	#006,R5
042276:	BR	042256
042300:	RETURN
042302:	MOV	R3,@#006120
042306:	MOV	R4,@#006506
042312:	DEC	@#006120
042316:	MOV	#177400,006544
042324:	MOV	#011,R2
042330:	MOV	#001,006126
042336:	CLR	R1
042340:	CALL	@#121436
042344:	INC	006120
042350:	SOB	R2,042330
042352:	RETURN

042340:	DF 09 1E A3  B7 0A 68 C7  89 7E 87 00  0E 20 20 20  _..#7.hG.~...   
042360:	74 45 53 54  20 4B 4C 41  57 49 41 54  55 52 59 20  tEST KLAWIATURY 
042400:	20 00 0D 0A  20 20 64 4C  51 20 5A 41  50 55 53 4B   ...  dLQ ZAPUSK
042420:	41 20 54 45  53 54 41 20  4E 41 56 4D  49 54 45 20  A TESTA NAVMITE 
042440:	4B 4C 41 57  49 5B 55 20  22 77 6B 22  49 20 4E 41  KLAWI[U "wk"I NA
042460:	56 49 4D 41  4A 54 45 20  4B 4C 41 57  49 5B 49 2C  VIMAJTE KLAWI[I,
042500:	4B 4F 54 4F  52 59 45 20  50 52 4F 57  45 52 51 45  KOTORYE PROWERQE
042520:	54 45 2E 20  64 4C 51 20  57 59 48 4F  44 41 20 49  TE. dLQ WYHODA I
042540:	5A 20 54 45  53 54 41 20  4E 41 56 4D  49 54 45 20  Z TESTA NAVMITE 
042560:	32 20 52 41  5A 41 0D 0A  4B 4C 41 57  49 5B 55 20  2 RAZA..KLAWI[U 
042600:	22 77 6B 22  2E 0F 00 0E  4D 41 5B 49  4E 4E 59 4A  "wk"....MA[INNYJ
042620:	0D 0A 20 20  4B 4F 44 0D  0A 0A 0A 0F  20 41 53 43  ..  KOD..... ASC
042640:	49 49 00 FF  FE 80 80 80  80 80 80 80  80 FF 00 FE  II..~..........~
042660:	82 82 82 FE  00 00 00 FF  80 80 80 FF  00 00 00 FE  ...~...........~
042700:	02 02 02 FE  00 00 F7 09  94 9A DF 15  08 00 50 0C  ...~..w..._...P.

; test of the memory module
042706:	CALL	160136
042712:	MOV	#010,@#006120
042720:	CLR	@#006506
042724:	CALL	@#121760
042730:	MOV	#046150,R1
042734:	CALL	160372		; display the string pointed to by r1
042740:	CALL	@#137472	; wait for a key
042744:	CALL	@#120034
042750:	CMP	R2,#060
042754:	BEQ	042764
042756:	CMP	R2,#061
042762:	BNE	042712
042764:	MOV	R2,-(SP)
042766:	MOV	#046220,R1
042772:	CALL	160372		; display the string pointed to by r1
042776:	MOV	#002740,R4
043002:	CALL	043164
043006:	TST	002712
043012:	BEQ	042766
043014:	CMP	#006,002712
043022:	BLT	042766
043024:	MOV	#002740,R3
043030:	MOV	#002704,R4
043034:	CALL	043240
043040:	CMP	002704,#023777
043046:	BGT	042766
043050:	MOV	#046255,R1
043054:	CALL	160372		; display the string pointed to by r1
043060:	MOV	#002740,R4
043064:	CALL	043164
043070:	TST	002712
043074:	BEQ	043050
043076:	CMP	#006,002712
043104:	BLT	043050
043106:	MOV	#002740,R3
043112:	MOV	#002706,R4
043116:	CALL	043240
043122:	CMP	002706,#023777
043130:	BGT	043152
043132:	MOV	002706,R4
043136:	SUB	002704,R4
043142:	CMP	R4,#000
043146:	BGE	043274
043150:	BR	042766
043152:	MOV	#046311,R1
043156:	CALL	160372		; display the string pointed to by r1
043162:	BR	043050
043164:	CLR	002712
043170:	CALL	@#137472	; wait for a key
043174:	CMP	R2,#015
043200:	BEQ	043222
043202:	CMP	R2,#060
043206:	BLT	043170
043210:	CMP	R2,#067
043214:	BGT	043170
043216:	INC	002712
043222:	CALL	@#120034
043226:	MOVB	R2,(R4)+
043230:	CMP	R2,#015
043234:	BNE	043170
043236:	RETURN
043240:	CLR	R1
043242:	MOVB	(R3)+,R2
043244:	BIC	#177770,R2
043250:	ADD	R2,R1
043252:	CMPB	(R3),#015
043256:	BEQ	043270
043260:	ASL	R1
043262:	ASL	R1
043264:	ASL	R1
043266:	BR	043242
043270:	MOV	R1,(R4)
043272:	RETURN
043274:	CALL	043302
043300:	BR	043356
043302:	MOV	#046342,R1
043306:	CALL	160372		; display the string pointed to by r1
043312:	MOV	#002740,R4
043316:	CALL	043164
043322:	TST	002712
043326:	BEQ	043302
043330:	CMP	#003,002712
043336:	BLT	043302
043340:	MOV	#002740,R3
043344:	MOV	#002730,R4
043350:	CALL	043240
043354:	RETURN
043356:	MOVB	#370,002700
043364:	MOV	002704,002710
043372:	MOV	(SP)+,R1
043374:	BICB	#001566,R1
043400:	BISB	R1,002700
043404:	CLR	002732
043410:	CALL	123564
043414:	MOV	#001,006126
043422:	CLR	006506
043426:	CLR	006506
043432:	MOV	#046536,R1
043436:	BIS	#041,@#006534
043444:	CALL	160372		; display the string pointed to by r1
043450:	BIC	#041,@#006534
043456:	MOV	#00001,002702
043464:	MOV	#011,@#164022
043472:	MOV	002700,@#164024
043500:	MOV	#252,R1
043504:	CLR	R2
043506:	MOV	002704,R0
043512:	MOV	002704,R3
043516:	CALL	@#120114
043522:	MOV	002702,002740
043530:	ADD	#060,002740
043536:	MOV	#002740,R1
043542:	CLR	006120
043546:	MOV	#074,006506
043554:	BIS	#041,@#006534
043562:	CALL	160372		; display the string pointed to by r1
043566:	BIC	#041,@#006534
043574:	MOV	002704,-(SP)
043600:	MOV	#061,002740
043606:	SUB	#800,002704
043614:	BLT	043624
043616:	INC	002740
043622:	BR	043606
043624:	MOV	(SP)+,002704
043630:	MOV	#002740,R1
043634:	MOV	#162,006506
043642:	CLR	006120
043646:	BIS	#041,@#006534
043654:	CALL	160372		; display the string pointed to by r1
043660:	BIC	#041,@#006534
043666:	CALL	@#120140
043672:	CLR	006506
043676:	MOV	#010,006120
043704:	CALL	046044
043710:	MOV	#014,002734
043716:	MOV	#132,002736
043724:	MOV	002704,002712
043732:	BIC	#174000,002712
043740:	CMP	002712,#100
043746:	BLT	044014
043750:	SUB	#100,002712
043756:	CMP	#154,002736
043764:	BNE	044004
043766:	ADD	#006,002734
043774:	MOV	#132,002736
044002:	BR	043740
044004:	ADD	#006,002736
044012:	BR	043740
044014:	MOV	002712,002726
044022:	CALL	045674
044026:	MOV	#300,@#164026
044034:	CALL	045664
044040:	CMP	#001,002702
044046:	BEQ	044106
044050:	CMP	#002,002702
044056:	BEQ	044106
044060:	CMP	R0,R3
044062:	BEQ	044106
044064:	MOVB	R2,@#164020
044070:	CALL	045664
044074:	CMP	002706,R3
044100:	BEQ	044140
044102:	INC	R3
044104:	BR	044060
044106:	MOVB	R1,@#164020
044112:	CALL	045664
044116:	CMP	#001,002702
044124:	BEQ	044140
044126:	CMP	#002,002702
044134:	BEQ	044140
044136:	BR	044074
044140:	TST	@#164026
044144:	CALL	045664
044150:	CMP	#001,002702
044156:	BEQ	044174
044160:	CMP	#002,002702
044166:	BEQ	044174
044170:	MOV	002704,R3
044174:	CALL	045674
044200:	MOV	#320,@#164026
044206:	CALL	045664
044212:	BICB	#010,002700
044220:	MOV	002700,@#164024
044226:	CALL	045664
044232:	MOV	@#164020,R4
044236:	BIC	#177400,R4
044242:	CALL	045664
044246:	CMP	R0,R3
044250:	BEQ	044260
044252:	CMPB	R4,R2
044254:	BNE	044266
044256:	BR	044274
044260:	CMPB	R4,R1
044262:	BNE	044266
044264:	BR	044274
044266:	CALL	044354
044272:	BR	044304
044274:	CALL	044362
044300:	JMP	045144
044304:	TST	@#164026
044310:	CALL	045664
044314:	MOV	#003,002722
044322:	MOV	R2,-(SP)
044324:	MOV	R1,R5
044326:	MOV	#046402,R1
044332:	CLR	006506
044336:	MOV	#010,006120
044344:	CALL	160372		; display the string pointed to by r1
044350:	MOV	R5,R1
044352:	BR	044526
044354:	MOV	#001,002732
044362:	INC	002726
044366:	CALL	120114
044372:	CMP	002726,#100
044400:	BNE	044520
044402:	CMP	#001,002732
044410:	BEQ	044454
044412:	MOV	#006,R5
044416:	MOV	#046576,R0
044422:	MOV	002734,R2
044426:	MOV	R2,006120
044432:	MOV	002736,006506
044440:	MOVB	(R0)+,R1
044442:	SWAB	R1
044444:	CALL	121436
044450:	INC	R2
044452:	SOB	R5,044426
044454:	CMP	#154,002736
044462:	BNE	044502
044464:	ADD	#006,002734
044472:	MOV	#132,002736
044500:	BR	044510
044502:	ADD	#006,002736
044510:	CLR	002726
044514:	CLR	002732
044520:	CALL	120140
044524:	RETURN
044526:	MOV	R1,R5
044530:	MOV	#046421,R1
044534:	CLR	006506
044540:	MOV	#020,006120
044546:	CALL	160372		; display the string pointed to by r1
044552:	MOV	#046440,R1
044556:	CLR	006506
044562:	MOV	#030,006120
044570:	CALL	160372		; display the string pointed to by r1
044574:	MOV	R5,R1
044576:	MOV	R3,002712
044602:	MOV	#005,002716
044610:	MOV	#044,006506
044616:	MOV	#030,006120
044624:	MOV	#006,002716
044632:	MOV	R0,-(SP)
044634:	CALL	142070
044640:	MOV	R4,-(SP)
044642:	MOV	R1,R5
044644:	MOV	002716,R4
044650:	MOV	002712,R1
044654:	CALL	100032
044660:	MOV	(SP)+,R4
044662:	MOV	R0,R1
044664:	CALL	160372		; display the string pointed to by r1
044670:	MOV	R5,R1
044672:	MOV	(SP)+,R0
044674:	DEC	002722
044700:	CMP	#002,002722
044706:	BNE	045026
044710:	MOV	R1,R5
044712:	MOV	#046451,R1
044716:	CLR	006506
044722:	MOV	#040,006120
044730:	CALL	160372		; display the string pointed to by r1
044734:	MOV	#046466,R1
044740:	CLR	006506
044744:	MOV	#050,006120
044752:	CALL	160372		; display the string pointed to by r1
044756:	MOV	R5,R1
044760:	CMP	R0,R3
044762:	BEQ	044774
044764:	MOV	(SP),R2
044766:	MOV	R2,002712
044772:	BR	045000
044774:	MOV	R1,002712
045000:	MOV	#003,002716
045006:	MOV	#102,006506
045014:	MOV	#050,006120
045022:	JMP	044632
045026:	TST	002722
045032:	BEQ	045136
045034:	MOV	R1,R5
045036:	MOV	#046504,R1
045042:	CLR	006506
045046:	MOV	#060,006120
045054:	CALL	160372		; display the string pointed to by r1
045060:	MOV	#046520,R1
045064:	CLR	006506
045070:	MOV	#070,006120
045076:	CALL	160372		; display the string pointed to by r1
045102:	MOV	R5,R1
045104:	MOV	R4,002712
045110:	MOV	#003,002716
045116:	MOV	#102,006506
045124:	MOV	#070,006120
045132:	JMP	044632
045136:	MOV	(SP)+,R2
045140:	JMP	045760
045144:	CMP	002706,R3
045150:	BEQ	045434
045152:	CMP	#001,002702
045160:	BEQ	045212
045162:	CMP	#002,002702
045170:	BEQ	045212
045172:	INC	R3
045174:	MOV	R0,-(SP)
045176:	MOV	R3,R0
045200:	CALL	045236
045204:	MOV	(SP)+,R0
045206:	JMP	044232
045212:	TST	@#164026
045216:	CALL	045664
045222:	INC	R0
045224:	INC	R3
045226:	CALL	045236
045232:	JMP	044022
045236:	MOV	R2,-(SP)
045240:	CMP	R0,#800
045244:	BEQ	045272
045246:	CMP	R0,#010000
045252:	BEQ	045302
045254:	CMP	R0,#014000
045260:	BEQ	045312
045262:	CMP	R0,#020000
045266:	BEQ	045322
045270:	BR	045416
045272:	MOV	#062,002740
045300:	BR	045330
045302:	MOV	#063,002740
045310:	BR	045330
045312:	MOV	#064,002740
045320:	BR	045330
045322:	MOV	#065,002740
045330:	MOV	R1,R5
045332:	MOV	#002740,R1
045336:	MOV	#162,006506
045344:	CLR	006120
045350:	BIS	#041,@#006534
045356:	CALL	160372		; display the string pointed to by r1
045362:	BIC	#041,@#006534
045370:	MOV	R5,R1
045372:	CALL	046044
045376:	MOV	#014,002734
045404:	MOV	#132,002736
045412:	CLR	002726
045416:	MOV	(SP)+,R2
045420:	CLR	006506
045424:	MOV	#010,006120
045432:	RETURN
045434:	TST	@#164026
045440:	CALL	045664
045444:	CMP	#003,002702
045452:	BEQ	045466
045454:	CMP	#004,002702
045462:	BEQ	045504
045464:	BR	045522
045466:	DEC	002714
045472:	BEQ	045522
045474:	CLC
045476:	RORB	R1
045500:	JMP	043512
045504:	DEC	002714
045510:	BEQ	045522
045512:	NOP
045514:	RORB	R1
045516:	JMP	043512
045522:	INC	002702
045526:	CMP	#002,002702
045534:	BNE	045554
045536:	MOV	#125,R1
045542:	MOV	002710,002704
045550:	JMP	043506
045554:	CMP	#003,002702
045562:	BNE	045610
045564:	MOV	002710,002704
045572:	MOV	#200,R1
045576:	MOV	#010,002714
045604:	JMP	043506
045610:	CMP	#004,002702
045616:	BEQ	045640
045620:	DEC	002730
045624:	BEQ	046040
045626:	MOV	002710,002704
045634:	JMP	043404
045640:	MOV	#177,R1
045644:	MOV	#010,002714
045652:	MOV	002710,002704
045660:	JMP	043506
045664:	TSTB	@#164024
045670:	BPL	045664
045672:	RETURN
045674:	BISB	#010,002700
045702:	MOV	002700,@#164024
045710:	MOV	#240,@#164026
045716:	CALL	045664
045722:	SWAB	R3
045724:	MOVB	R3,@#164020
045730:	CALL	045664
045734:	SWAB	R3
045736:	MOVB	R3,@#164020
045742:	CALL	045664
045746:	TST	@#164026
045752:	CALL	045664
045756:	RETURN
045760:	CALL	045766
045764:	BR	046004
045766:	CLR	-(SP)
045770:	INC	(SP)
045772:	CMP	#030000,(SP)
045776:	BGE	045770
046000:	TST	(SP)+
046002:	RETURN
046004:	CMP	R3,002706
046010:	BEQ	046030
046012:	INC	R3
046014:	CMP	#002,002702
046022:	BLO	046034
046024:	JMP	044022
046030:	JMP	045444
046034:	JMP	044174
046040:	JMP	@#160124	; self-test menu
046044:	CALL	120114
046050:	MOV	#014,R3
046054:	MOV	#132,R4
046060:	MOV	#012,R5
046064:	MOV	#046564,R0
046070:	MOV	R3,R2
046072:	MOV	R2,@#006120
046076:	MOV	R4,@#006506
046102:	MOVB	(R0)+,R1
046104:	SWAB	R1
046106:	CALL	@#121436
046112:	INC	R2
046114:	SOB	R5,046072
046116:	ADD	#006,R4
046122:	CMP	#162,R4
046126:	BNE	046060
046130:	ADD	#006,R3
046134:	CMP	#074,R3
046140:	BNE	046054
046142:	CALL	120140
046146:	RETURN

046140:	E5 02 F7 09  FA 53 87 00  0E 0D 0A 74  45 53 54 20  e.w.zS.....tEST 
046160:	73 6D 70 0D  0A 77 57 45  44 49 54 45  20 4E 4F 4D  smp..wWEDITE NOM
046200:	45 52 0A 0D  55 53 54 52  4F 4A 53 54  57 41 0F 00  ER..USTROJSTWA..
046220:	0E 0D 0A 7A  41 44 41 4A  54 45 20 4E  41 5E 41 4C  ...zADAJTE NA^AL
046240:	58 4E 59 4A  0A 0D 41 44  52 45 53 0F  00 0E 0D 0A  XNYJ..ADRES.....
046260:	7A 41 44 41  4A 54 45 20  4B 4F 4E 45  5E 4E 59 4A  zADAJTE KONE^NYJ
046300:	0A 0D 41 44  52 45 53 0F  00 0E 0D 0A  77 59 48 4F  ..ADRES.....wYHO
046320:	44 20 5A 41  20 47 52 41  4E 49 43 59  20 73 6D 70  D ZA GRANICY smp
046340:	0F 00 0E 0D  0A 57 57 45  44 49 54 45  20 4B 4F 4C  .....WWEDITE KOL
046360:	49 5E 45 53  54 57 4F 20  50 52 4F 48  4F 44 4F 57  I^ESTWO PROHODOW
046400:	0F 00 0E 6F  5B 49 42 4B  41 2C 41 44  52 45 53 0F  ...o[IBKA,ADRES.
046420:	00 0E 4E 45  49 53 50 52  41 57 4E 4F  47 4F 0F 00  ..NEISPRAWNOGO..
046440:	0E 42 41 4A  54 41 3A 0F  00 0E 7A 41  50 49 53 41  .BAJTA:...zAPISA
046460:	4E 4E 41 51  0F 00 0E 49  4E 46 4F 52  4D 41 43 49  NNAQ...INFORMACI
046500:	51 3A 0F 00  0E 73 5E 49  54 41 4E 4E  41 51 0F 00  Q:...s^ITANNAQ..
046520:	0E 49 4E 46  4F 52 4D 41  43 49 51 3A  0F 00 0E 54  .INFORMACIQ:...T
046540:	45 53 54 20  53 4D 50 20  23 20 20 4D  49 4B 2D 4D  EST SMP #  MIK-M
046560:	41 20 0F 00  FE 82 82 82  82 FE 00 00  00 00 FE FE  A ..~....~....~~
046600:	FE FE FE FE  FF FF FF FF  FF FF FF FF  FF FF FF FF  ~~~~............
